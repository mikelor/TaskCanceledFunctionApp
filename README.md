# TaskCanceledFunctionApp
Repros the [TaskCanceledException](https://github.com/Azure/azure-functions-host/issues/5216) when reading from a Service Bus Queue from an Azure Function

This sample writes to a Service Bus Queue via a Timer Trigger and reads from the queue via a Queue Trigger.
Also included is a createResourceGroup.sh shell script that will create the Azure Service Bus to write/read from.
This successfully reproduces the TaskCanceledException for me. See ReadMe for more info. You will need to add your own localsettings.json file to add a reference to the ServiceBusConnectionString generated by the script.

## Instructions
1. `az login` to your Azure Subscription
1. `.\createResourceGroup.sh` to build Azure Resource Group
1. Update your `local.settings.json` with the connection string returned from script
1. Open in Visual Studio and Run

## Version Information
* func -v returns `3.0.2009`
* Visual Studio `16.5.0 Preview 1.0`
* Implemented this workaround [Debug startup fails "no Function runtime available" #5145](https://github.com/Azure/azure-functions-host/issues/5145)
